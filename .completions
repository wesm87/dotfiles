#!/usr/bin/env bash
# shellcheck disable=1090

function _bash_profile_completions() {
  local completions_dir
  local brew_completions_dir

  completions_dir="$HOME/.dotfiles/completions"
  brew_completions_dir="$(brew --prefix)/etc/bash_completion.d"

  # -- Git
  source "$completions_dir/git-completion.bash"

  # -- Bash
  if [ ! -L "$brew_completions_dir/brew_bash_completion.sh" ]; then
    ln -s "$(brew --repository)/Library/Contributions/brew_bash_completion.sh" "$brew_completions_dir"
  fi

  # -- VV
  if [ ! -L "$brew_completions_dir/vv-completions" ] && [ -d "$(which vv)-completions" ]; then
    ln -s "$(which vv)-completions" "$brew_completions_dir"
  fi
}

_bash_profile_completions
